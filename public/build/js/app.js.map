{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n(function ($, $document, undefined) {\n  \"use strict\";\n\n  /*--- $VARIABLES ---*/\n  var $modules, $sortable, $weeks, $days, $events;\n\n  /*--- DELEGATE ---*/\n  $document.on('change', '#modules input', function (e) {\n    e.preventDefault();\n\n    // Show/hide modules.\n    calculate_modules();\n\n    // Hide days and weeks without visible events.\n    calculate_hidden();\n  }).on('change', '#hide-past', function (e) {\n    e.preventDefault();\n\n    // Hide days and weeks without visible events.\n    calculate_hidden();\n\n    // Store value of checkbox.\n    if (Modernizr.localstorage) {\n      localStorage.setItem('hide-past', $(this).prop('checked'));\n    }\n  });\n\n  /*--- FUNCTIONS ---*/\n  function init_filters() {\n    // Check for localStorage support.\n    if (Modernizr.localstorage) {\n      var modules = JSON.parse(localStorage.getItem('modules')),\n          hide_past = localStorage.getItem('hide-past') === 'true';\n\n      // Go through modules and check localStorage.\n      if (modules) {\n        $modules.each(function (index, element) {\n          var $element = $(element);\n\n          if (modules.indexOf($element.attr('id')) > -1) {\n            $element.prop('checked', true);\n          } else {\n            $element.prop('checked', false);\n          }\n        });\n      }\n\n      // Restore state of hide past checkbox.\n      $('#hide-past').prop('checked', hide_past);\n    }\n  }\n\n  function calculate_modules() {\n    var selectors = [],\n        ids = [];\n\n    // Get checked modules and save as array of classes.\n    $modules.find('input:checked').each(function (index, element) {\n      selectors.push('.' + $(element).attr('class'));\n      ids.push($(element).attr('id'));\n    });\n\n    // Save ids to localStorage.\n    if (Modernizr.localstorage) {\n      localStorage.setItem('modules', JSON.stringify(ids));\n    }\n\n    // Assume all events hidden and then show requested ones.\n    $events.hide().filter(selectors.join(', ')).show();\n  }\n\n  function calculate_hidden() {\n    // Assume everything visible.\n    $days.show();\n    $weeks.show();\n\n    // Hide past days if option is checked.\n    if ($('#hide-past').prop('checked') === true) {\n      $days.filter('.past').hide();\n    } else {\n      $days.show();\n    }\n\n    // Go through all days and check for visible events.\n    $days.each(function (index, element) {\n      var $element = $(element);\n\n      if ($element.find('.event').filter(':visible').length === 0) {\n        $element.hide();\n      }\n    });\n\n    // Go through all weeks and check for visible days.\n    $weeks.each(function (index, element) {\n      var $element = $(element);\n\n      if ($element.find('.day').filter(':visible').length === 0) {\n        $element.hide();\n      }\n    });\n  }\n\n  /*--- DOM READY ---*/\n  $document.ready(function () {\n    $modules = $('#modules');\n    $sortable = $('.sortable');\n\n    // Check if current page is course page.\n    if ($modules.length > 0) {\n      $weeks = $('.week');\n      $days = $('.day');\n      $events = $('.event');\n\n      init_filters();\n      calculate_modules();\n      calculate_hidden();\n    }\n\n    // Make sortable lists sortable.\n    if ($sortable.length > 0) {\n      $sortable.sortable();\n      $sortable.disableSelection();\n    }\n  });\n})(jQuery, jQuery(document));\n\n},{}]},{},[1]);\n"],"file":"app.js","sourceRoot":"/source/"}